# ğŸ­ QMS Backend â€“ Quality Management System

A **production-ready backend** for a **Quality Management System (QMS)** built using **Node.js, Express.js, MongoDB, and JWT Authentication**.

This system supports **multiple admins**, **multiple vendors per admin**, **role-based access control**, and **quality report management with file uploads**.

---

## ğŸš€ Features

- âœ… Node.js + Express.js REST API
- âœ… MongoDB with Mongoose
- âœ… JWT Authentication (Access + Refresh Token)
- âœ… Role-Based Access Control (RBAC)
- âœ… Multiple Admins â†’ Multiple Vendors
- âœ… Quality Report Management
- âœ… Multiple File Uploads (Images / Docs / Any type)
- âœ… Secure & Scalable Architecture
- âœ… Postman-ready APIs
- âœ… Production Folder Structure

---

## ğŸ‘¥ User Roles

| Role | Access |
|----|------|
| SUPER_ADMIN | Full system access |
| ADMIN | Manage own vendors & reports |
| VENDOR | Create & view own reports |
| USER | Read-only (future use) |

---

## ğŸ“ Project Folder Structure
qms-backend/
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ config/
â”‚ â”‚ â””â”€â”€ db.js
â”‚ â”œâ”€â”€ controllers/
â”‚ â”‚ â”œâ”€â”€ auth.controller.js
â”‚ â”‚ â”œâ”€â”€ vendor.controller.js
â”‚ â”‚ â””â”€â”€ report.controller.js
â”‚ â”œâ”€â”€ middlewares/
â”‚ â”‚ â”œâ”€â”€ auth.middleware.js
â”‚ â”‚ â”œâ”€â”€ role.middleware.js
â”‚ â”‚ â”œâ”€â”€ upload.middleware.js
â”‚ â”‚ â””â”€â”€ error.middleware.js
â”‚ â”œâ”€â”€ models/
â”‚ â”‚ â”œâ”€â”€ User.model.js
â”‚ â”‚ â”œâ”€â”€ Vendor.model.js
â”‚ â”‚ â””â”€â”€ Report.model.js
â”‚ â”œâ”€â”€ routes/
â”‚ â”‚ â”œâ”€â”€ auth.routes.js
â”‚ â”‚ â”œâ”€â”€ vendor.routes.js
â”‚ â”‚ â””â”€â”€ report.routes.js
â”‚ â”œâ”€â”€ app.js
â”‚ â””â”€â”€ server.js
â”œâ”€â”€ uploads/
â”œâ”€â”€ .env
â”œâ”€â”€ package.json
â””â”€â”€ README.md


---

## âš™ï¸ Tech Stack

- **Backend:** Node.js, Express.js
- **Database:** MongoDB + Mongoose
- **Authentication:** JWT (Access & Refresh Token)
- **File Upload:** Multer
- **Testing:** Postman
- **Logging:** Morgan

---

## ğŸ” Authentication Flow

1. User registers
2. User logs in
3. Receives:
   - Access Token (short-lived)
   - Refresh Token (long-lived)
4. Token verified via middleware
5. Role-based access applied

---

## ğŸ§¾ Quality Report Fields

Each quality report contains:

- Report Date
- Department
- Quantity
- Defect Type
- Priority
- Description
- Vendor Name
- Vendor Code
- Item Code
- Report Images (Multiple files, any type)
- Created By (User)

---

## ğŸ› ï¸ Environment Variables

Create a `.env` file in root directory:

```env
PORT=5000
MONGO_URI=mongodb://127.0.0.1:27017/qms
JWT_SECRET=your_jwt_secret
JWT_REFRESH_SECRET=your_refresh_secret
JWT_EXPIRE=15m
JWT_REFRESH_EXPIRE=7d






Installation & Run
# Install dependencies
npm install

# Run in development
npm run dev

# Run in production
npm start




Base URL
http://localhost:5000/api






---

## âœ… NEXT (Optional but Recommended)

Agar aap chaho to main:
- âœ”ï¸ **Postman Collection JSON** bana du
- âœ”ï¸ **API documentation (Swagger)** add karwa du
- âœ”ï¸ **Dockerfile + docker-compose** likh du
- âœ”ï¸ **Deployment guide (AWS / VPS)** bana du

Bas bolo ğŸ‘

